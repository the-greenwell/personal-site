{"version":3,"file":"index.js","sources":["../src/ErrorMessage.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useFormContext, get, FieldErrors } from 'react-hook-form';\nimport { Props } from './types';\n\nconst ErrorMessage = <\n  TFieldErrors extends FieldErrors,\n  TAs extends\n    | undefined\n    | React.ReactElement\n    | React.ComponentType<any>\n    | keyof JSX.IntrinsicElements = undefined\n>({\n  as,\n  errors,\n  name,\n  message,\n  render,\n  ...rest\n}: Props<TFieldErrors, TAs>) => {\n  const methods = useFormContext();\n  const error = get(errors || methods.errors, name);\n\n  if (!error) {\n    return null;\n  }\n\n  const { message: messageFromRegister, types } = error;\n  const props = Object.assign({}, rest, {\n    children: messageFromRegister || message,\n  });\n\n  return React.isValidElement(as)\n    ? React.cloneElement(as, props)\n    : render\n    ? (render({\n        message: messageFromRegister || message,\n        messages: types,\n      }) as React.ReactElement)\n    : React.createElement((as as string) || React.Fragment, props);\n};\n\nexport { ErrorMessage };\n"],"names":["as","errors","name","message","render","rest","methods","useFormContext","error","get","messageFromRegister","types","props","Object","assign","children","React","messages"],"mappings":"yEAIqB,gBAQnBA,IAAAA,GACAC,IAAAA,OACAC,IAAAA,KACAC,IAAAA,QACAC,IAAAA,OACGC,kLAEGC,EAAUC,mBACVC,EAAQC,MAAIR,GAAUK,EAAQL,OAAQC,GAE5C,IAAKM,EACH,gBAGeE,EAA+BF,EAAxCL,QAA8BQ,EAAUH,EAAVG,MAChCC,EAAQC,OAAOC,OAAO,GAAIT,EAAM,CACpCU,SAAUL,GAAuBP,IAGnC,OAAOa,iBAAqBhB,GACxBgB,eAAmBhB,EAAIY,GACvBR,EACCA,EAAO,CACND,QAASO,GAAuBP,EAChCc,SAAUN,IAEZK,gBAAqBhB,GAAiBgB,WAAgBJ"}